<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Clock</title>
    <style>
    	.clockNode {
    		display: flex;
    		flex-direction: row;
    	}
	</style>
</head>
<body>
	<h2>Clock, Watch and Timer</h2>
	<hr>
	<div class="clockNode">Current Time:</div>
	<div id="time"></div>
	<hr>
	<div class="clockNode">Stop Watch:</div>
	<button id="startButton">Start</button>
	<button id="lapButton">Lap</button>
	<div id="currentTime"></div>
	<ul id="lapList"></ul>
	<hr>
	<div class="clockNode">Timer:</div>
	<input type="number" id="timerAmount">
	<select id="time_units_ddl">
		<option value="seconds">seconds</option>
		<option value="minutes">minutes</option>
		<option value="hours">hours</option>
	</select>
	<button id="timerButton">Set</button>
	<hr>
	<script>
		setInterval(function() {
    		let d = new Date();
    		document.querySelector("#time").innerHTML = d.toLocaleTimeString();
		}, 50);
		// Function that returns the stop watch time in the H:M:S format
		function getStopWatchString(stopWatchTime)
			{return stopWatchTime.getHours() + ":" + stopWatchTime.getMinutes() + ":" + stopWatchTime.getSeconds()}
		// Variables used for stopwatch
		let stopWatch = document.querySelector("#currentTime")
		let startButton = document.querySelector("#startButton")
		let stopWatchTime = new Date()
		stopWatchTime.setHours(0,0,0,0)
		stopWatch.innerHTML = getStopWatchString(stopWatchTime)
		// Codeused to start and stop stopwatch
		startButton.onclick = function() {
			// Press Start button to start running clock
			if (startButton.innerText === 'Start') {
				startButton.innerText = 'Stop'
				// setinterval
				setInterval(function() {
					// update stopWatchTime using getSeconds setSeconds
					stopWatchTime.setSeconds(stopWatchTime.getSeconds() + 1)
					stopWatch.innerHTML = getStopWatchString(stopWatchTime)
				}, 1000)
			}
			// Press stop to clear clock back to zero
			else {
				// clear back to zero and change button to start
				stopWatchTime.setHours(0,0,0,0)
				startButton.innerText = 'Start'
				stopWatch.innerHTML = getStopWatchString(stopWatchTime)
			}
		}
		// Code used by stopwatch to keep track of lap time
		let laps = document.querySelector("#lapList")
		let lapNum = 1
		lapButton.onclick = function() {
			// whenever lap is clicked, an item is added to lapList with the time at the moment
			let li = document.createElement("li")
			li.appendChild(document.createTextNode("Lap " + lapNum + ".) " + getStopWatchString(stopWatchTime)))
			lapList.appendChild(li)
			lapNum++
		}

		// Code used to set and activate timer
		let timerAmount = document.querySelector("#timerAmount")
		let timerButton = document.querySelector("#timerButton")
		let time_units_ddl = document.querySelector('#time_units_ddl')
		timerButton.onclick = function() {
			let units = time_units_ddl.options[time_units_ddl.selectedIndex].value
			if (units === "seconds")
				//{setTimeout(alert("Time's up"), timerAmount)}
			else if (units === "minutes")
				//{setTimeout(alert("Time's up"), timerAmount)}
			else if (units === "hours")
				//{setTimeout(alert("Time's up"), timerAmount)}
		}
	</script>
</body>
</html>